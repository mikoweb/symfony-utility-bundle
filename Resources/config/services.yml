services:
    # Used to gets aplication paths.
    app_path:
        class: vSymfo\Core\ApplicationPaths
        calls:
            - [setContainer, ["@service_container"]]

    vsymfo_core.twig.utilities:
        class: vSymfo\Bundle\CoreBundle\TwigExtension\UtilitiesExtension
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: twig.extension }

    # Theme groups listener
    vsymfo_core.event.listener.themegroup:
        class: vSymfo\Bundle\CoreBundle\EventListener\ThemeGroupListener
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onKernelRequest, priority: 2 }

    # Custom error pages.
    vsymfo_core.event.listener.exception:
        class:  vSymfo\Bundle\CoreBundle\EventListener\ExceptionListener
        calls:
            - [setContainer, ["@service_container"]]
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }

    # Custom error pages controller.
    vsymfo_core.twig.exception_controller:
        class: vSymfo\Bundle\CoreBundle\Controller\ExceptionController
        arguments: ["@twig", "%kernel.debug%"]
        calls:
            - [setContainer, ["@service_container"]]
